



![image-20220227221134527](https://github.com/modiman/modiman.github.io/blob/gh-pages/docs/_posts/imgs/image-20220227221134527.png?raw=true)

## 1.4 与 HTTP 关系密切的协议 : IP、TCP 和 DNS

### 1.4.1 负责传输的 IP 协议

* 全称：Internet Protocol

* 位置：网络层

* 作用：是把各种数据包传送给对方。

  IP 间的通信依赖 MAC 地址。在网络上，通信的双方在同一局域网 （LAN）内的情况是很少的，通常是经过多台计算机和网络设备中转 才能连接到对方。而在进行中转时，会利用下一站中转设备的 MAC 地址来搜索下一个中转目标。这时，会采用 ARP 协议（Address Resolution Protocol）。ARP 是一种用以解析地址的协议，根据通信方 的 IP 地址就可以反查出对应的 MAC 地址。

  ![image-20220228190709300](https://github.com/modiman/modiman.github.io/blob/gh-pages/docs/_posts/imgs/image-20220228190709300.png?raw=true)

![image-20220228190709300](.\imgs\image-20220228190709300.png)

### 1.4.2 确保可靠性的 TCP 协议

* 全称：Transmission Control Protocol
* 位置：传输层
* 作用：TCP 协议为了更容易传送大数据才把数据分割，而且 TCP 协议能够确认数据最终是否送达到对方。

​       为了准确无误地将数据送达目标处，TCP 协议采用了三次握手 （three-way handshaking）策略。用 TCP 协议把数据包送出去后，TCP 不会对传送后的情况置之不理，它一定会向对方确认是否成功送达。

![三次握手](https://github.com/modiman/modiman.github.io/blob/gh-pages/docs/_posts/imgs/三次握手.png?raw=true)

![三次握手](.\imgs\三次握手.png)

握手过程中使用了 TCP 的标志（flag） —— SYN（synchronize） 和 ACK（acknowledgement）。

发送端首先发送一个带 SYN 标志的数据包给对方。接收端收到后， 回传一个带有 SYN/ACK 标志的数据包以示传达确认信息。最后，发 送端再回传一个带 ACK 标志的数据包，代表“握手”结束。

若在握手过程中某个阶段莫名中断，TCP 协议会再次以相同的顺序发 送相同的数据包。

## 1.5 负责域名解析的 DNS 服务

* 全称：**Domain Name System**
* 位置：应用层
* 作用：它提供域名到 IP 地址之间的解析服务。

​          用户通常使用主机名或域名来访问对方的计算机，而不是直接通过 IP 地址访问。因为与 IP 地址的一组纯数字相比，用字母配合数字的表 示形式来指定计算机名更符合人类的记忆习惯。

​           但要让计算机去理解名称，相对而言就变得困难了。因为计算机更擅 长处理一长串数字。 为了解决上述的问题，DNS 服务应运而生。DNS 协议提供通过域名 查找 IP 地址，或逆向从 IP 地址反查域名的服务。

![DNS](https://github.com/modiman/modiman.github.io/blob/gh-pages/docs/_posts/imgs/DNS.png?raw=true)

![DNS](./imgs/DNS.png?raw=true)



## 1.6 各种协议与 HTTP 协议的关系

![网络图](https://github.com/modiman/modiman.github.io/blob/gh-pages/docs/_posts/imgs/网络图.png?raw=true)



![image-20220228190709300](.\imgs\网络图.png)

## 1.7 URI 和 URL

